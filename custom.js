function instantBuy(e){var r=jQuery,t=r("form.ProductForm").serialize();let n=5;e.innerHTML="CHECKOUT IN PROGRESS...",r.ajax({type:"POST",url:"/cart/clear.js",data:"",dataType:"json",success:function(){console.log("cart clear ....success"),r.ajax({url:"/cart/add",type:"post",data:t,success:function(){console.log("success....cart add"),setInterval((function(){n-=1,e.innerHTML="CHECKING OUT IN "+n+"Secs."}),1e3),window.location.href="/checkout"},error:function(){e.innerHTML="BUY NOW",console.log("some error in buy now add cart ajax call")}})},error:function(){e.innerHTML="BUY NOW",console.log("some error in buy now clear cart ajax call")}})}function _addMeToCart(e,r){(e=e||window.event).preventDefault();let t=r.getAttribute("data-variant_id");if(!t)return void console.error("Error: Variant ID not found");let n={items:[{id:t,quantity:1}]};fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{document.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{bubbles:!0}))})).catch((e=>{console.error("Error: "+e)}))}
